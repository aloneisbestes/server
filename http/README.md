# Http 服务器
## 1. 定义异常类
自定义自己的异常类，在某些地方发生错误时，可以直接使用异常处理，保证程序的健壮性。

自定义的异常类如下：
```c++
// 用于自己程序的异常测试类，详情见 mexception.h
class HttpException : public std::exception {
    virtual const char *what() const noexcept;  // 返回异常错误提示

    HttpException &operator=(const HttpException &exce) noexcept;   // 重载等号运算符
}
```

## 2. 配置文件
配置文件头文件 config.h 主要作用是用来读取配置文件中的内容，程序刚运行时就会从配置文件路径中去读取 httpserver.conf 配置文件。

主要的配置有 mysql 所在的服务器，mysql 的用户名和密码以及 mysql 端口号，使用的 databases；httpserver log 日志文件所在的路径；httpsever 服务器的端口号，默认端口是 10010

## 3. 信号量、条件变量、互斥锁
信号量、条件变量和互斥锁主要用来保证数据的安全和线程安全及同步。

在多线程编程过程中，数据的安全是很重要的，在线程中，如果操作公共数据，就需要对该数据进行上锁，否则该数据的值最后是否正确是不确定的。例如：当使用链表的时，如果不对链表进行加锁，就有可能出现数据丢失或链表丢失。

一共封装3个类：
```c++
class Locker;   // 互斥锁
class Cond;     // 条件变量
class Sem;      // 信号量
```

## 4. 阻塞队列
阻塞队列的实现是用异步线程，在实现log日志文件的时候会有两种方式，一种是同步方式，一种是异步方式；同步方式是在程序出现异常或错误情况下会把错误信息写入日志文件，但是同步线程会占用主线程的时间，导致当前服务器被阻塞，异步线程是创建一个或多个线程去处理，则就需要保证创建的线程同步，所以使用阻塞队列去让线程同步。


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title></title>
    <style>
        h2 {
            width: 400px;
            margin: 0 auto;
        }

        .login_form {
            width: 500px;
            margin: 0 auto;
        }
    </style>
    <script>
        //编写layui脚本代码
        layui.use(['form', 'layer'], function () {
            var form = layui.form;
            var layer = layui.layer;
            //login 是form表单中 登录按钮的lay-filter值
            form.on("submit(login)", function (data) {
                console.log(data.field);
                load = layer.load()
                //发送ajax 获取数据
                $.ajax({
                    url: "/login/", //发送的服务器处理的地址
                    type: "post", //post或者get请求提交
                    data: data.field, //传递给后台服务器接口的数据
                    dataType: "json",
                    success: function (dataJson) {
                        //如果登录成功 {"code":200,"msg":""}
                        //如果登录失败 {"code":500,"msg":"错误信息"}
                        if (dataJson.code == 200) {
                            layer.close(load)
                            window.location.href = "/welcome/"
                        } else {
                            layer.msg(dataJson.msg)
                            layer.close(load)

                        }
                    }
                })
                return false;
            })
        })
    </script>
</head>
<body>
<div style="display: flex; flex-direction: column;justify-content: center;align-items: center;min-height:100vh; background-image: ; background-size:100% 100%;">
    <div style="background-color: rgba(255, 255, 255, 0.8); width: 500px; height:400px;display: flex; flex-direction: column;justify-content: center;align-items: center; border-radius: 20px">
        <div style="display: flex; justify-content: center; width: 100%;">
            <span style="font-size: 30px; color: cornflowerblue;">{{ schoolName }}</span>
        </div>
        <div class="login_form" style="margin-top: 30px;">
            <form class="layui-form" action="">
			  <div class="layui-form-item">
			    <label class="layui-form-label">用户名</label>
			    <div class="layui-input-inline">
			      <input type="text" name="username" required  lay-verify="required" placeholder="请输入用户名" autocomplete="off" class="layui-input">
			    </div>
			  </div>
			  <div class="layui-form-item">
			    <label class="layui-form-label">密码框</label>
			    <div class="layui-input-inline">
			      <input type="password" name="password" required lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
			    </div>
			  </div>
			  <div class="layui-form-item">
			    <div class="layui-input-block">
			      <button class="layui-btn" lay-submit lay-filter="login">登录</button>
			      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
			    </div>
			  </div>
			</form>
        </div>
    </div>
</div>
</body>
</html>
